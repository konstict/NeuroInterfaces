Для детекции QRS комплекса (удара сердца) и дальнейшего вычисления пульса (количества ударов в минуту) использовались некоторые шаги в своей последовательности из Алгоритма Пана – Томпкинса. А именно 3, 4 и 5 шаги [https://engineering.pnzgu.ru/files/engineering.pnzgu.ru/10(1).pdf]. Данный алгоритм реализован в .ino файле на Arduino C/C++. В основном выглядит следующим образом: получение значения с ЭКГ датчика, 5й шаг для сглаживания небольших шумов (усредняются 5 значений), 3й шаг для получения независимых значений (операция дифференцирования обычно возвращает скорость изменения этого сигнала и это очень подходит для дальнейшего взятия константного порогового значения), 4й шаг - взятие в квадрат данного значения для того, чтобы без разницы было на полярность и все предыдущие значения которые были на отрицательной линии - становятся на равне с положительными, и все высокие значения всё больше и больше становятся заметнее, в сравнении с низкими благодаря самой операции возведения в квадрат, и далее снова выполняется 5й шаг для ещё одного сглаживания (усреднения) просто потому-что график выходит более эффективней. А затем определяется константное значение порога, при котором будет определятся каждый «удар сердца».
